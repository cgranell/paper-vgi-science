{
    "contents" : "#\n# author: cgranell\n# aim: transformation and cleaning scripts to transform raw data into processed data\n# \n#\n\nurl <- \"https://github.com/cgranell/paper-vgi-science/raw/master/data/ijgi/rawdata.csv\"\nrawFile <- \"rawdata.csv\"\ndataFile <- \"cleandata.rda\"\n\npathToRawFile <- paste(\"./data/ijgi\", rawFile, sep=\"\")\nif (!file.exists(pathToRawFile)) {\n    file <- download.file(url, destfile=pathToRawFile)\n}\n\n# load raw data\ndata <- read.csv(pathToRawFile, colClasses=\"character\", header=TRUE, strip.white=TRUE)\n\ndim(data) # 93 obs. of 29 variables\n\n# convert columns names into lowercase  \nnames(data) <- tolower(names(data))\n\n\nstr(data)\n\n# data type cource\ndata$p.year <- as.integer(data$p.year)\ndata$p.venue <- as.factor(data$p.venue)\ndata$p.venuetype <- as.factor(data$p.venuetype)\ndata$p.geo <- as.factor(data$p.geo)\ndata$d.official <- as.factor(data$d.official)\ndata$a.type <- as.factor(data$a.type)\ndata$a.tool <- as.factor(data$a.tool)\ndata$f.cat0 <- as.factor(data$f.cat0)\ndata$f.cat1 <- as.factor(data$f.cat1)\ndata$f.cat2 <- as.factor(data$f.cat2)\ndata$f.uc0 <- as.factor(data$f.uc0)\ndata$f.user <- as.factor(data$f.user)\ndata$d.source <- as.factor(data$d.source)\n\n\n# \"crisis-centric level of f.cat0 is renamed as \"applicatin-centric\" level\nlevels(data$f.cat0)[levels(data$f.cat0)==\"crisis-centric\"] <- \"application-centric\"\n\n# Names of subcategories within \"application-centric\" are shorthen  \nlevels(data$f.cat1)[levels(data$f.cat1)==\"crisis management (coordination and organization)\"] <- \"coordination and organization\"\nlevels(data$f.cat1)[levels(data$f.cat1)==\"crisis management (detection and prediction)\"] <- \"detection and prediction\"\nlevels(data$f.cat1)[levels(data$f.cat1)==\"crisis management (health)\"] <- \"health\"\nlevels(data$f.cat1)[levels(data$f.cat1)==\"crisis management (monitoring)\"] <- \"monitoring\"\nlevels(data$f.cat1)[levels(data$f.cat1)==\"crisis management (recovery and response)\"] <- \"recovery and response\"\n\n\n# We group some sub-categories (f.cat1) which are quite similar. This will ease readiness:\n# \"data quality\" and \"data assessment\" are integrated into a new \"data quality and assessment\" level\nlevels(data$f.cat1)[levels(data$f.cat1)==\"data quality\"] <- \"data quality and assessment\"\nlevels(data$f.cat1)[levels(data$f.cat1)==\"data assessment\"] <- \"data quality and assessment\"\n\n# We group some intended uses (f.cat2) which are quite similar. This will ease readiness:\n# \"topic classification\" and \"topic selection\" are integrated into \n# the existing \"topic selection and classification\" \nlevels(data$f.cat2)[levels(data$f.cat2)==\"topic classification\"] <- \"topic selection and classification\"\nlevels(data$f.cat2)[levels(data$f.cat2)==\"topic selection\"] <- \"topic selection and classification\"\n\n# \"location classification\" and location selection\" are integrated into \n# the existing \"location selection and classification\" level\nlevels(data$f.cat2)[levels(data$f.cat2)==\"location classification\"] <- \"location selection and classification\"\nlevels(data$f.cat2)[levels(data$f.cat2)==\"location selection\"] <- \"location selection and classification\"\n\n# \"actionable information\" and \"credible information\" form a new level named \"actionable and credible information\"\nlevels(data$f.cat2)[levels(data$f.cat2)==\"actionable information\"] <- \"actionable and credible information\"\nlevels(data$f.cat2)[levels(data$f.cat2)==\"credible information\"] <- \"actionable and credible information\"\n\n# fixed typo: \"commuting behabiours\" --> \"commuting behaviours\"\nlevels(data$f.cat2)[levels(data$f.cat2)==\"commuting behabiours\"] <- \"commuting behaviours\"\n\n\n# We group some sources (d.source) which are quite similar. This will ease readiness:\nlevels(data$d.source)[levels(data$d.source)==\"Mutiple social media sources\"] <- \"Multiple sources\"\nlevels(data$d.source)[levels(data$d.source)==\"Mutiple social media sources  (MMS messages; Web portals; blogs; Twitter; Facebook)\"] <- \"Multiple sources\"\nlevels(data$d.source)[levels(data$d.source)==\"Mutiple social media sources (Flickr; Panoramio; Picasa Web; Geograph)\"] <- \"Multiple sources\"\n\n# Merge \"Synthetic cell phone data (simulated data) with \"GPS data from mobile phone\"\nlevels(data$d.source)[levels(data$d.source)==\"Synthetic cell phone data\"] <- \"GPS data from mobile phone\"\n\n# number of representative papers \nlength(unique(data$p.id))  # 58\n\n# NEW\n# how many papers are classified as data-centric\ndc <- data[data$f.cat0==\"data-centric\",]\nlength(unique(dc$p.id)) #40\n\n# how many papers are classified as data-centric\nhc <- data[data$f.cat0==\"human-centric\",]\nlength(unique(hc$p.id)) #19\n\n# how many papers are classified as applicaiton-centric\nac <- data[data$f.cat0==\"application-centric\",]\nlength(unique(ac$p.id)) #14\n\n# How to visualiza these sets? Radial Sets use an alternative visual metaphor to represent overlapping sets compared to Euler Diagram \ndcu <- unique(dc$p.id)\nhcu <- unique(hc$p.id)\nacu <- unique(ac$p.id)\nhcu %in% dcu\nacu %in% dcu\nacu %in% hcu\n\n\n# Save data frame object into a local file \nsave(data, file=paste(\"./data/gein/\", dataFile, sep=\"\"))\n",
    "created" : 1439888435617.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "980841240",
    "id" : "E3051C7A",
    "lastKnownWriteTime" : 1439893801,
    "path" : "C:/Users/cgranell/Data/MyCode/paper-vgi-science/scripts/cleaning-ijgi.R",
    "project_path" : "scripts/cleaning-ijgi.R",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "type" : "r_source"
}