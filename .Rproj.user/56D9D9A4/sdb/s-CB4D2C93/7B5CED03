{
    "contents" : "#\n# author: cgranell\n# aim: transformation and cleaning scripts to transform raw data into processed data\n# \n#\n\nurl <- \"https://github.com/cgranell/paper-vgi-science/raw/master/data/ceus-r1/rawdata-ceus-R1.csv\"\nrawFile <- \"rawdata-ceus-R1.csv\"\ndataFile <- \"cleandata-ceus-R1.rda\"\n\npathToRawFile <- paste(\"./data/ceus-r1/\", rawFile, sep=\"\")\nif (!file.exists(pathToRawFile)) {\n    file <- download.file(url, destfile=pathToRawFile)\n}\n\n# load raw data\ndata <- read.csv(pathToRawFile, colClasses=\"character\", header=TRUE, strip.white=TRUE)\n\ndim(data) # 97 obs. of 30 variables\n\n# convert columns names into lowercase  \nnames(data) <- tolower(names(data))\n\n\nstr(data)\n\n# data type cource\ndata$p.year <- as.integer(data$p.year)\ndata$p.venue <- as.factor(data$p.venue)\ndata$p.venuetype <- as.factor(data$p.venuetype)\ndata$a.type <- as.factor(data$a.type)\ndata$a.tool <- as.factor(data$a.tool)\ndata$f.cat0 <- as.factor(data$f.cat0)\ndata$f.cat1 <- as.factor(data$f.cat1)\ndata$f.cat2 <- as.factor(data$f.cat2)\ndata$f.uc0 <- as.factor(data$f.uc0)\ndata$f.uc1 <- as.factor(data$f.uc1)\ndata$f.user <- as.factor(data$f.user)\ndata$d.source <- as.factor(data$d.source)\ndata$d.official <- as.factor(data$d.official)\n\n\n# Names of subcategories within \"application-centric\" are shorthen  \nlevels(data$f.cat1)[levels(data$f.cat1)==\"crisis management (coordination and organization)\"] <- \"coordination and organization\"\nlevels(data$f.cat1)[levels(data$f.cat1)==\"crisis management (detection and prediction)\"] <- \"detection and prediction\"\nlevels(data$f.cat1)[levels(data$f.cat1)==\"crisis management (health)\"] <- \"health\"\nlevels(data$f.cat1)[levels(data$f.cat1)==\"crisis management (monitoring)\"] <- \"monitoring\"\nlevels(data$f.cat1)[levels(data$f.cat1)==\"crisis management (recovery and response)\"] <- \"recovery and response\"\n\n\n# We group some sub-categories (f.cat1) which are quite similar. This will ease readiness:\n# \"data quality\" and \"data assessment\" are integrated into a new \"data quality and assessment\" level\nlevels(data$f.cat1)[levels(data$f.cat1)==\"data quality\"] <- \"data quality and assessment\"\nlevels(data$f.cat1)[levels(data$f.cat1)==\"data assessment\"] <- \"data quality and assessment\"\n\n# We group some intended uses (f.cat2) which are quite similar. This will ease readiness:\n# \"topic classification\" and \"topic selection\" are integrated into \n# the existing \"topic selection and classification\" \nlevels(data$f.cat2)[levels(data$f.cat2)==\"topic classification\"] <- \"topic selection and classification\"\nlevels(data$f.cat2)[levels(data$f.cat2)==\"topic selection\"] <- \"topic selection and classification\"\n\n# \"location classification\" and location selection\" are integrated into \n# the existing \"location selection and classification\" level\nlevels(data$f.cat2)[levels(data$f.cat2)==\"location classification\"] <- \"location selection and classification\"\nlevels(data$f.cat2)[levels(data$f.cat2)==\"location selection\"] <- \"location selection and classification\"\n\n# \"actionable information\" and \"credible information\" form a new level named \"actionable and credible information\"\nlevels(data$f.cat2)[levels(data$f.cat2)==\"actionable information\"] <- \"actionable and credible information\"\nlevels(data$f.cat2)[levels(data$f.cat2)==\"credible information\"] <- \"actionable and credible information\"\n\n\n# number of representative papers \nlength(unique(data$p.id))  # 59\n\n# Save data frame object into a local file \nsave(data, file=paste(\"./data/ceus-r1/\", dataFile, sep=\"\"))\n",
    "created" : 1449219907742.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3950288685",
    "id" : "7B5CED03",
    "lastKnownWriteTime" : 1449223095,
    "path" : "C:/Users/cgranell/Data/MyCode/paper-vgi-science/scripts/cleaning-ceus-r1.R",
    "project_path" : "scripts/cleaning-ceus-r1.R",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "type" : "r_source"
}